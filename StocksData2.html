<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Fetching the data os the stocks from the finnhub.io</title>
</head>

<body>
  Sample Data : <span id="dataSpan"></span>


  <script type="text/javascript">
     
    //fetching the json file from the API of the https://finnhub.io/
    //this is giving me the error of the CROS access
    //check for the cros site resorce sharing
    //how to give headers to cors to obtain the data
    
    /*
    Potential Solution found : 
    create your own .htaccess file and give your own headers to manage the config of the headers
    */

    //this is method 1
    // const proxyUrl = "https://cors-anywhere.herokuapp.com";
    // let token = "bnrhmsvrh5rfc44sbmk0";
    // const api_url = "https://finnhub.io/api/v1/stock/profile?symbol=AAPL&token=" + token;
    async function getData() {
    //   const response = await fetch(api_url, {
    //     credentials : 'same-origin',
    //     method : 'GET',
    //     headers: {
    //       'Content-Type' : 'application/json',
    //     }
    //   });
    //   const data = response.json;
    //   document.getElementById("dataSpan").textContent = data;
    //   console.log(data);
      //this is not working

      //this is method 2
      // var request = new XMLHttpRequest();
      // request.open('GET', proxyUrl + '/' + api_url , true);
      // request.setRequestHeader("X-Requested-With", "XMLHttpRequest");
      // request.responseType = 'json';
      // request.onload = function() {
      //   var data = request.response;
      //   console.log(data);
      // }
      //this thing is not returning any error nor the data
    }
    
    //step 1. feth the data from the external Api and then read it properly. Done!
    //step 2. use the fetched data and extract the  general information from it.
    //step 3. information like date and time of the updation of the price.
    //step 4. use the input box to configure it for the other companies.

    getData();
  </script>
</body>

</html>